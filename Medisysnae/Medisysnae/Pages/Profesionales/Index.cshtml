@page
@model Medisysnae.Pages.Profesionales.IndexModel
@using Microsoft.AspNetCore.Http;

@{
    ViewData["Title"] = "Index";
}

<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">


<link rel="stylesheet" href="~/css/tablacrud.css" />
<script type="text/javascript">
    $(document).ready(function () {
        $('[data-toggle="tooltip"]').tooltip();
    });
</script>

<body>
    <div class="container">
        <div class="table-wrapper">
            <div class="table-title">
                <div class="row">
                    <div class="col-sm-5">
                        <h2><b>Gestión de Usuarios</b></h2>
                    </div>
                    <div class="col-sm-7">
                        <a asp-page="./Create" class="btn btn-primary"><i class="material-icons">&#xE147;</i> <span>Agregar nuevo usuario</span></a>
                    </div>
                </div>
            </div>
            <table class="table table-striped table-hover table-responsive-sm table-responsive-md table-responsive-lg">
                <thead>
                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => model.Profesional[0].NombreUsuario)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Profesional[0].Rol)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Profesional[0].Habilitado)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Profesional[0].Nombre)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Profesional[0].Apellido)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Profesional[0].Matricula)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Profesional[0].Telefono)
                        </th>
                        <th>
                            Acción
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.Profesional)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.NombreUsuario)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Rol)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Habilitado)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Nombre)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Apellido)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Matricula)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Telefono)
                            </td>

                            @{ if (Model.UsuarioActual.EsAdministrador)
                                {
                                    <td>
                                        <a asp-page="./Details" asp-route-id="@item.NombreUsuario" class="settings" title="Detalle" data-toggle="tooltip"><i class="material-icons">&#xE8B8;</i></a>
                                        <a asp-page="./Delete" asp-route-id="@item.NombreUsuario" class="delete" title="Borrar" data-toggle="tooltip"><i class="material-icons">&#xE5C9;</i></a>
                                    </td>
                                    ;
                                }
                            }
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        
    </div>
</body>
